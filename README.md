<a href="https://auteddy.itch.io" target="_blank">
  <img src="./images/Godot_EventBridgeLogo.svg" />
</a>
<p align="center">
  <a href="https://auteddy.itch.io" target="_blank">
    <img src="https://img.shields.io/badge/Buy_on-itch.io-red?style=for-the-badge&logo=itchdotio&labelColor=black" alt="Buy on itch.io" />
  </a>
  <a href='https://ko-fi.com/M4M51IR6VN' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://storage.ko-fi.com/cdn/kofi3.png?v=6' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a>
</p>
<p align="center">
  <img src="https://img.shields.io/badge/godot-Editor_Plugin-blue?style=for-the-badge&logo=godotengine&color=%23000000" alt="Godot Editor Plugin" />
  <img src="https://img.shields.io/badge/godot-Signals-blue?style=for-the-badge&logo=godotengine&color=%233176BB" alt="Godot Signals" />
  <img src="https://img.shields.io/badge/godot-RPC-green?style=for-the-badge&logo=godotengine&color=%23008C3C" alt="Godot RPC" />
</p>
<p align="center">
  <a href="https://discord.com/channels/1399270391226175518" target="_blank">
    <img src="https://img.shields.io/discord/1399270391226175518?style=for-the-badge&logo=discord" alt="Discord Chat" />
  </a>
</p>

## ğŸ¯ EventBridge for Godot 4

<blockquote>
<p dir="auto"><strong>ğŸ›ˆ Supported Godot Engine:</strong>  <strong>4.4</strong></p>
</blockquote>

<br/>

## ğŸš€ What is EventBridge?

EventBridge gives you a clean, scalable, and multiplayer-ready event-driven architecture for Godot 4.
Perfect for single-player and multiplayer projects where managing signals and RPCs becomes chaos.

âœ” Autogenerated API â€“ No more manual signal connections
âœ” Multiplayer-Ready â€“ Remote, to_all, to_id, local events built in
âœ” Editor Integration â€“ Visual Event Registry & API refresh in one click
âœ” One Source of Truth â€“ All events live in event_registry.json

<br/>

## âœ… Why Choose EventBridge?
- **Local & Network Events** â€“ One API for local, server, peer-specific, or broadcast events  
- **Namespaces for Organization** â€“ Keep events modular and maintainable  
- **Automatic Event Registry** â€“ Define once, reuse everywhere  
- **Editor Integration** â€“ Manage events visually with the built-in Godot panel  
- **Duplicate Protection** â€“ No more double signal connections  
- **Persistent Caching** â€“ Fast lookups even for large projects  
- **One-Line Cleanup** â€“ `off_all()` removes dangling handlers instantly  

---

## ğŸ® Perfect for Multiplayer
Send events:
âœ” **To the server**  
âœ” **To all peers**  
âœ” **To a specific peer**  

**Example:**
```gdscript
var ns = EventBridge.get_namespace("Lobby")

ns.on("ping", func(msg):
    print("PING:", msg)
)

ns.remote("pong", ["Hello from client!"])
```

---

## ğŸ“¦ Installation
1. Copy the **`addons/event_bridge`** folder into your Godot project  
2. Enable the plugin in **Project Settings â†’ Plugins**  
3. Add **`event_bus.gd`** as an **Autoload Singleton**:
   - Name: `EventBridge`
   - Path: `res://addons/event_bridge/event_bus.gd`  

---

## âš¡ Quick Example Event Registry

event_registry.json is automaticly generated based on your event bus tree in the editor plugin.
event_data.tres can be copied ot a new project and you get all your events - no need to restart from scratch

```json
{
  "Test": [
    {
      "name": "ping",
      "rpc": "remote",
      "args": ["msg"]
    },
    {
      "name": "pong",
      "rpc": "remote",
      "args": ["msg"]
    }
  ]
}
```

---

## ğŸ›  Usage
### 1. Get a Namespace
```gdscript
var ns = EventBridge.get_namespace("Test")
```

### 2. Subscribe to Events
```gdscript
ns.on("ping", func(msg):
    print("[CLIENT] PING:", msg)
    ns.remote("pong", ["Hello from CLIENT %d" % multiplayer.get_unique_id()])
)
```

### 3. Emit Events (Server)
```gdscript
if multiplayer.is_server():
    await get_tree().create_timer(2.0).timeout
    ns.to_all("ping", ["Hello from SERVER"])
```

### âœ… Cleanup
```gdscript
func _exit_tree():
    ns.off_all()
```

---

## ğŸ”‘ Full API
| Method                  | Description                                    |
|-------------------------|-----------------------------------------------|
| `get_namespace(name)`   | Returns Namespace object for a category      |
| `on(event, callable)`   | Subscribe to an event                        |
| `emit(event, args)`     | Emit locally                                  |
| `remote(event, args)`   | Emit to server                                |
| `to_all(event, args)`   | Emit to all peers                             |
| `only_me(event, args)`  | Emit only on this client                      |
| `to_id(id, event, args)`| Emit to a specific peer                       |
| `off_all()`             | Remove all handlers in this namespace         |

---

## ğŸ“¢ Example Output
```
[EventBridge] Loaded registry from: res://addons/event_bridge/event_registry.json
[EventBridge] EventBus initialized with namespaces: ["Test"]
[EventBridge] Connected handler for Test::ping
[EventBridge] Emit to all: Test::ping ["Hello from SERVER"]
[CLIENT] PING received: Hello from SERVER
[SERVER] PONG received from client: Hello back from CLIENT 123456789
```

---

## ğŸ“„ License
**EventBridge Plugin Commercial License** (included in package):  
âœ” Use in unlimited projects (personal & commercial)  
âŒ No redistribution or resale  

---

## ğŸ›£ Roadmap
- [ ] GUI editor for event registry  
- [ ] Argument validation on emit  
- [ ] Type hints for callable arguments  

---

## ğŸ’¬ Join the Community
[![Discord](https://img.shields.io/discord/1399270391226175518?style=for-the-badge&logo=discord)](https://discord.com/channels/1399270391226175518)

---

## ğŸ’– Enjoy using Event Bridge? Please support development

If you enjoy using EventBridge, consider supporting my work at Ko-Fi.
Your support helps me keep improving and creating more useful tools for the Godot community. ğŸ˜Š
<a href='https://ko-fi.com/M4M51IR6VN' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://storage.ko-fi.com/cdn/kofi3.png?v=6' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a>

---

[![Static Badge](https://img.shields.io/badge/Buy_on-itch.io-red?style=for-the-badge&logo=itchdotio&labelColor=black)](https://auteddy.itch.io)

âœ… FAQ Section for README
Q: Why not just use Godot signals?
Godot signals are great for local communication between nodes. EventBridge shines when you need:

Global events without wiring hundreds of connect() calls

Cross-scene communication (UI â†” Game Logic â†” Network)

Multiplayer-safe events with the same API as local events

Q: Wonâ€™t an event bus make my code harder to debug?
Noâ€”EventBridge improves debugging:

Logs all connected handlers and emitted events

Prevents duplicate signal connections

Provides namespaces, so you know exactly where an event belongs

Centralized registry (event_registry.json) for all global events

Q: What about race conditions and unpredictable order?
This is a valid concern for any event system. Godot signals already call listeners in an undefined order when multiple connections exist. EventBridge doesnâ€™t make that worseâ€”but:

It enforces structure through namespaced events

Lets you easily isolate events in logical groups

Logs calls so you can trace execution order

If you need strict deterministic order, you can always:

Use explicit calls in critical code paths

Or manage priority manually in your connected methods

Q: Can I use EventBridge for collisions, animations, or local signals?
No. Use Godotâ€™s built-in signals for local, internal behavior. EventBridge is for:

Global notifications

UI updates

Game state changes

Multiplayer messaging

Modular game systems

Q: Is EventBridge thread-safe?
EventBridge relies on Godot signals and RPC, which follow Godotâ€™s main-thread execution model. For heavy threaded work, emit events from the main thread only or use call_deferred().

Q: Does EventBridge introduce extra overhead?
Minimal. Itâ€™s a thin wrapper on Godotâ€™s signal system with caching for namespaces and automatic registry binding. The performance cost is negligible compared to the clarity and scalability it provides.

âœ… When NOT to Use EventBridge
EventBridge is a tool for structured, global, and networked communication, not a universal replacement for signals. Avoid using EventBridge for:

Internal object behavior
(e.g., a projectile signaling its collision or an enemy triggering its own animation)

High-frequency updates
(e.g., physics signals like body_entered that fire every frame)

Critical order-sensitive logic
If you need guaranteed call order, use direct method calls or priority-based handlers.

Instead, use Godotâ€™s local signals or direct calls for these cases. EventBridge complements them by handling the bigger picture.
