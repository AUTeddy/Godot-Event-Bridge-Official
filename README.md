<a href="https://auteddy.itch.io" target="_blank">
  <img src="./images/Godot_EventBridgeLogo.svg" />
</a>

---

<p align="center">
  <a href="https://auteddy.itch.io" target="_blank">
    <img src="https://img.shields.io/badge/Buy_on-itch.io-red?style=for-the-badge&logo=itchdotio&labelColor=black" alt="Buy on itch.io" />
  </a>
   <a href="https://ko-fi.com/M4M51IR6VN" target="_blank">
    <img src="https://img.shields.io/badge/Support_me_on_Ko_Fi-blue?style=for-the-badge&logo=kofi&label=%20&labelColor=%23000&color=%23000" alt="Ko-fi" />
  </a>
</p>
<p align="center">
  <img src="https://img.shields.io/badge/godot-Editor_Plugin-blue?style=for-the-badge&logo=godotengine&color=%23000000" alt="Godot Editor Plugin" />
  <img src="https://img.shields.io/badge/godot-Signals-blue?style=for-the-badge&logo=godotengine&color=%233176BB" alt="Godot Signals" />
  <img src="https://img.shields.io/badge/godot-RPC-green?style=for-the-badge&logo=godotengine&color=%23008C3C" alt="Godot RPC" />
</p>
<p align="center">
  <a href="https://discord.com/channels/1399270391226175518" target="_blank">
    <img src="https://img.shields.io/discord/1399270391226175518?style=for-the-badge&logo=discord" alt="Discord Chat" />
  </a>
</p>

---

## 🎯 EventBridge for Godot 4

<blockquote>
<p dir="auto"><strong>🛈 Supported Godot Engine:</strong>  <strong>4.4</strong></p>
</blockquote>

<br/>

## 🚀 What is EventBridge?

EventBridge gives you a clean, scalable, and multiplayer-ready event-driven architecture for Godot 4.
Perfect for single-player and multiplayer projects where managing signals and RPCs becomes chaos.

✔ Autogenerated API – No more manual signal connections
✔ Multiplayer-Ready – Remote, to_all, to_id, local events built in
✔ Editor Integration – Visual Event Registry & API refresh in one click
✔ One Source of Truth – All events live in event_registry.json

<br/>

## ✅ Why Choose EventBridge?

- **Local & Network Events** – One API for local, server, peer-specific, or broadcast events  
- **Namespaces for Organization** – Keep events modular and maintainable  
- **Automatic Event Registry** – Define once, reuse everywhere  
- **Editor Integration** – Manage events visually with the built-in Godot panel  
- **Duplicate Protection** – No more double signal connections  
- **Persistent Caching** – Fast lookups even for large projects  
- **One-Line Cleanup** – `off_all()` removes dangling handlers instantly  



## 🎮 Perfect for Multiplayer
Send events:
✔ **To the server**  
✔ **To all peers**  
✔ **To a specific peer**  

**Example:**
```gdscript
var ns = EventBridge.get_namespace("Lobby")

ns.on("ping", func(msg):
    print("PING:", msg)
)

ns.remote("pong", ["Hello from client!"])
```

## First steps
Follow the Getting started guide to learn how to get started with EventBridge and the demo project.


## 📦 Installation
1. Copy the **`addons/event_bridge`** folder into your Godot project  
2. Enable the plugin in **Project Settings → Plugins**  
3. Add **`event_bus.gd`** as an **Autoload Singleton**:
   - Name: `EventBridge`
   - Path: `res://addons/event_bridge/event_bus.gd`  



## ⚡ Quick Example Event Registry

event_registry.json is automaticly generated based on your event bus tree in the editor plugin.
event_data.tres can be copied ot a new project and you get all your events - no need to restart from scratch

```json
{
  "Test": [
    {
      "name": "ping",
      "rpc": "remote",
      "args": ["msg"]
    },
    {
      "name": "pong",
      "rpc": "remote",
      "args": ["msg"]
    }
  ]
}
```


## 🛠 Usage
### 1. Get a Namespace
```gdscript
var ns = EventBridge.get_namespace("Test")
```

### 2. Subscribe to Events
```gdscript
ns.on("ping", func(msg):
    print("[CLIENT] PING:", msg)
    ns.remote("pong", ["Hello from CLIENT %d" % multiplayer.get_unique_id()])
)
```

### 3. Emit Events (Server)
```gdscript
if multiplayer.is_server():
    await get_tree().create_timer(2.0).timeout
    ns.to_all("ping", ["Hello from SERVER"])
```

### ✅ Cleanup
```gdscript
func _exit_tree():
    ns.off_all()
```



## 🔑 Full API
| Method                  | Description                                    |
|-------------------------|-----------------------------------------------|
| `get_namespace(name)`   | Returns Namespace object for a category      |
| `on(event, callable)`   | Subscribe to an event                        |
| `emit(event, args)`     | Emit locally                                  |
| `remote(event, args)`   | Emit to server                                |
| `to_all(event, args)`   | Emit to all peers                             |
| `only_me(event, args)`  | Emit only on this client                      |
| `to_id(id, event, args)`| Emit to a specific peer                       |
| `off_all()`             | Remove all handlers in this namespace         |



## 📢 Example Output
```
[EventBridge] SOME CONSOLE PRINT HERE

```



## 📄 License
**EventBridge Plugin Commercial License** (included in package):  
✔ Use in unlimited projects (personal & commercial)  
❌ No redistribution or resale  



## 🛣 Roadmap
- [ ] GUI editor for event registry  
- [ ] Argument validation on emit  
- [ ] Type hints for callable arguments  



## 💬 Join the Community
[![Discord](https://img.shields.io/discord/1399270391226175518?style=for-the-badge&logo=discord)](https://discord.com/channels/1399270391226175518)



## 💖 Enjoy using Event Bridge? Please support development

If you enjoy using EventBridge, consider supporting my work at Ko-Fi.
Your support helps me keep improving and creating more useful tools for the Godot community. 😊 <br/><br/>
<a href="https://ko-fi.com/M4M51IR6VN" target="_blank">
  <img src="https://img.shields.io/badge/Support_me_on_Ko_Fi-blue?style=for-the-badge&logo=kofi&label=%20&labelColor=%23000&color=%23000" alt="Ko-fi" />
</a>

[![Static Badge](https://img.shields.io/badge/Buy_on-itch.io-red?style=for-the-badge&logo=itchdotio&labelColor=black)](https://auteddy.itch.io)

## License

Event Bridge Plugin - Custom License
Copyright (c) 2025 AUTeddy/ Edis Hobl-Zunic

Permission is granted to the purchaser to:
- Use this plugin in personal and commercial Godot Engine projects.
- Modify the plugin for use in their own projects.

Restrictions:
- You may NOT distribute, share, or resell the plugin in its original or modified form.
- You may NOT include this plugin in any asset packs or templates for sale or free distribution.
- You may NOT claim ownership of the original code or remove copyright notices.

Liability:
This plugin is provided "as-is" without any warranties or guarantees. The author is not responsible for any issues or damages that may occur from using this software.

By using this plugin, you agree to these terms.

## EventBridge isn’t a replacement for RPC

It’s a higher-level layer that uses Godot’s multiplayer/RPC under the hood and adds structure (namespaces), generated APIs, validation, and logging.

# What EventBridge adds (on top of RPC)

Namespace-based event bus: EventBusAutoload groups events (e.g. Game, Lobby) and emits them as signals.

Generated façade: EventManager.gd gives typed methods like dice_broadcast(player_id, result), on_dice_broadcast(cb), off_dice_broadcast(cb).

Per-event RPC config: Each event carries authority mode (authority vs any_peer), sync (call_remote vs call_local), transfer mode (reliable / unreliable / unordered), and channel. EventBridge maps these to rpc_config(...) on a single rpc_event entry point.

Validation hooks: Central and per-event validators run before the network call is dispatched.

Logging & tooling: Consistent logs and an editor dock for visibility.

# What it does not replace

Godot transports: ENet/WebSocket/WebRTC are still the underlying pipes.

Ownership/authority rules: Node ownership, MultiplayerAPI.RPC_MODE_*, and peer authority still apply.

State replication: Use MultiplayerSynchronizer / replication for continuous state; EventBridge focuses on discrete events.

Low-level edge cases: Custom binary streams, bespoke reliability semantics beyond what Godot exposes, etc., still belong to raw RPC/peers.

# When to use which

Use EventBridge for gameplay “events” and cross-cutting signals (joins, chat, turns, combat results), where you want consistency, validators, and easy subscribe/unsubscribe.

Use raw RPC for ultra-tight loops, custom replication, or very specific authority/serialization needs.

Mixing is fine: You can have EventBridge for most gameplay, and still keep bespoke @rpc methods where needed.

## Side-by-side example

# Raw RPC

``gdscript
# server.gd
@rpc("any_peer", "call_remote", "reliable")
func rpc_dice_broadcast(player_id: int, result: int) -> void:
    # notify everyone (server relays / or direct depending on topology)
    print("DICE:", player_id, result)

func broadcast_result(player_id: int, result: int) -> void:
    rpc("rpc_dice_broadcast", player_id, result)
``

# EventBridge

``gdscript
# Generated API (EventManager.gd)
EventManager.dice_broadcast(player_id, result)   # to_all / reliable / channel 0
EventManager.on_dice_broadcast(func(pid, res):
    print("[EB] DICE:", pid, res)
)
``

Functionally they do the same thing; EventBridge standardizes the call site, applies validators, sets the correct RPC mode/channel, and wires up the signal for you.

## Performance note

EventBridge adds light overhead (signal emission, lookup, validation). The heavy work (serialization, delivery) is still Godot’s RPC, so performance characteristics remain dominated by the underlying transport and payload size.

# TL;DR: EventBridge is a structured, safer abstraction over RPC, not a replacement. It keeps your gameplay code clean and consistent while still relying on Godot’s networking stack.
